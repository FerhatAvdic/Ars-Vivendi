<div class="gray-wrapper">
    <div class="container">
        <div class="box-members">
            <!--<div class="row">
                <div class="col-md-12">
                    <div class="panel panel-default">
                        <div class="panel-heading">Filteri</div>
                        <div class="panel-body" stlye="padding: 0;">
                            <div class="col-md-3">
                                <div class="panel panel-default">
                                    <div class="members-filter-toggle" ng-click="isCollapsed.panel1 = !isCollapsed.panel1">Sport</div>
                                    <div class="members-filter" uib-collapse="isCollapsed.panel1">
                                        <ul>
                                            <li><input type="checkbox" ng-model="checkedInterests.skiing" /><label> Skijanje</label></li>
                                            <li><input type="checkbox" ng-model="checkedInterests.hiking" /><label> Planinarenje</label></li>
                                            <li><input type="checkbox" ng-model="checkedInterests.cycling" /><label> Biciklizam</label></li>
                                            <li><input type="checkbox" ng-model="checkedInterests.diving" /><label> Ronjenje</label></li>
                                            <li><input type="checkbox" ng-model="checkedInterests.rafting" /><label> Rafting</label></li>
                                        </ul>
                                    </div>
                                </div>

                            </div>
                            <div class="col-md-3">
                                <div class="panel panel-default">
                                    <div class="members-filter-toggle" ng-click="isCollapsed.panel2 = !isCollapsed.panel2">Filteri 1</div>
                                    <div class="members-filter" uib-collapse="isCollapsed.panel2">
                                        <ul>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="panel panel-default">
                                    <div class="members-filter-toggle" ng-click="isCollapsed.panel3 = !isCollapsed.panel3">Filteri 2</div>
                                    <div class="members-filter" uib-collapse="isCollapsed.panel3">
                                        <ul>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div class="col-md-3">
                                <div class="panel panel-default">
                                    <div class="members-filter-toggle" ng-click="isCollapsed.panel4 = !isCollapsed.panel4">Filteri 3</div>
                                    <div class="members-filter" uib-collapse="isCollapsed.panel4">
                                        <ul>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                            <li><input type="checkbox" /><label> Filter</label></li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>-->
            <div class="row">
                <div class="col-md-3">
                    <div class="panel panel-default">
                        <div class="members-filter-toggle" ng-click="isCollapsed.panel2 = !isCollapsed.panel2">Filteriši po Kolonama</div>
                        <div class="members-filter" uib-collapse="isCollapsed.panel2">
                            <div class="form-group">
                                <select class="form-control" ng-model="pageSize" ng-options="pageSizeOption.value as pageSizeOption.name for pageSizeOption in pageSizeOptions"></select>
                            </div>                            
                            <div class="form-group">
                                <label>Ime:</label>
                                <input type="text" class="form-control" ng-model="columnFilters.name">
                            </div>
                            <div class="form-group">
                                <label>Prezime:</label>
                                <input type="text" class="form-control" ng-model="columnFilters.surname">
                            </div>
                            <div class="form-group">
                                <label>Email:</label>
                                <input type="text" class="form-control" ng-model="columnFilters.email">
                            </div>
                            <div class="form-group">
                                <label>Telefon:</label>
                                <input type="text" class="form-control" ng-model="columnFilters.phone">
                            </div>
                            <div class="form-group">
                                <label>Adresa:</label>
                                <input type="text" class="form-control" ng-model="columnFilters.address">
                            </div>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="members-filter-toggle" ng-click="isCollapsed.panel1 = !isCollapsed.panel1">Sport</div>
                        <div class="members-filter" uib-collapse="isCollapsed.panel1">
                            <ul>
                                <li class="checkbox">
                                    <label><input type="checkbox" value="" ng-model="checkedInterests.skiing" ng-change="updateInterests('skiing')">Skijanje</label>
                                </li>
                                <li class="checkbox">
                                    <label><input type="checkbox" value="" ng-model="checkedInterests.hiking" ng-change="updateInterests('hiking')">Planinarenje</label>
                                </li>
                                <li class="checkbox">
                                    <label><input type="checkbox" value="" ng-model="checkedInterests.cycling" ng-change="updateInterests('cycling')">Biciklizam</label>
                                </li>
                                <li class="checkbox">
                                    <label><input type="checkbox" value="" ng-model="checkedInterests.diving" ng-change="updateInterests('diving')">Ronjenje</label>
                                </li>
                                <li class="checkbox">
                                    <label><input type="checkbox" value="" ng-model="checkedInterests.rafting" ng-change="updateInterests('rafting')">Rafting</label>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="panel panel-default">
                        <div class="members-filter-toggle" ng-click="isCollapsed.panel3 = !isCollapsed.panel3">Skijaška Oprema</div>
                        <div class="members-filter" uib-collapse="isCollapsed.panel3">
                            <ul>
                                <li class="checkbox"><label><input type="checkbox" value="">Filter</label></li>
                                <li class="checkbox"><label><input type="checkbox" value="">Filter</label></li>
                                <li class="checkbox"><label><input type="checkbox" value="">Filter</label></li>
                                <li class="checkbox"><label><input type="checkbox" value="">Filter</label></li>
                                <li class="checkbox"><label><input type="checkbox" value="">Filter</label></li>
                            </ul>
                        </div>
                    </div>

                    <div class="panel panel-default">
                        <div class="members-filter-toggle" ng-click="isCollapsed.panel4 = !isCollapsed.panel4">Zdravstveno Stanje</div>
                        <div class="members-filter" uib-collapse="isCollapsed.panel4">
                            <ul>
                                <li class="checkbox"><label><input type="checkbox" value="">Filter</label></li>
                                <li class="checkbox"><label><input type="checkbox" value="">Filter</label></li>
                                <li class="checkbox"><label><input type="checkbox" value="">Filter</label></li>
                                <li class="checkbox"><label><input type="checkbox" value="">Filter</label></li>
                                <li class="checkbox"><label><input type="checkbox" value="">Filter</label></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="col-md-9">
                    <div class="box-members-list">
                        <p class="members-table-title">Članovi</p>
                        <a class="material-round-btn" id="add-member-btn" data-toggle="modal" data-target="#newMemberModal"><i class="fa fa-user-plus" aria-hidden="true"></i></a>
                        <div class="box-members-list-wrap">
                            <ul id="top-members-pagination" uib-pagination total-items="filteredMembers.length - 1" items-per-page="pageSize" ng-model="currentPage" max-size="paginationSize" class="pagination-sm" boundary-link-numbers="true" previous-text="<<" next-text=">>"></ul>
                        </div>
                        <div class="table-responsive">
                            <table class="table members-table">
                                <thead>
                                    <tr>
                                        <th>Profil</th>
                                        <th ng-repeat="heading in headings" ng-click="sortMembersBy(heading)">
                                            {{heading.name}} <i class="fa fa-sort" aria-hidden="true"></i>
                                        </th>
                                        <th>Opcije</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!--<tr ng-repeat="member in members | filter : columnFilters |
                                        orderBy:propertyName:reverse | start: (currentPage-1) * pageSize | limitTo: pageSize">-->
                                    <tr ng-repeat="member in (filteredMembers = (members | filter : columnFilters)) |
                                        orderBy:propertyName:reverse | start: (currentPage-1) * pageSize | limitTo: pageSize">
                                        <td ng-if="member.gender === undefined"><img class="member-profile-picture" src="/img/mansilhouette.jpg" /></td>
                                        <td ng-if="member.gender === 'Musko'"><img class="member-profile-picture" src="/img/mansilhouette.jpg" /></td>
                                        <td ng-if="member.gender === 'Zensko'"><img class="member-profile-picture" src="/img/womansilhouette.jpg" /></td>
                                        <td>{{member.firstName}}</td>
                                        <td>{{member.lastName}}</td>
                                        <td>{{member.phoneNumber}}</td>
                                        <td>{{member.email}}</td>
                                        <td>{{member.address}}</td>
                                        <td>
                                            <a ng-href="#!/profile/{{member.userName}}"><i class="fa fa-user" aria-hidden="true"></i></a>
                                            <a ng-click="setEditMember(member.userName)" data-toggle="modal" data-target="#editMemberModal"><i class="fa fa-pencil" aria-hidden="true"></i></a>
                                            <a ng-click="setDeleteMember(member.userName)" data-toggle="modal" data-target="#deleteMemberModal"><i class="fa fa-ban" aria-hidden="true"></i></a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="box-members-list-wrap">
                            <ul id="bottom-members-pagination" uib-pagination total-items="filteredMembers.length - 1" items-per-page="pageSize" ng-model="currentPage" max-size="paginationSize" class="pagination-sm" boundary-link-numbers="true" previous-text="<<" next-text=">>"></ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!--NEW MEMBER MODAL-->
<div id="newMemberModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-width-adjust">
        <!-- Modal content-->
        <div class="modal-content modal-width-adjust">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title modal-title-padding">Dodaj novog člana</h4>
            </div>
            <!--<div class="modal-body">-->
                

                <div class="add-member-form">
                    <div class="tab-content">
                        <div id="postani-clan-1" class="tab-pane fade in active">
                            <div class="login-line"><p>Korisnički podaci</p></div>
                            <input type="text" placeholder="Korisničko Ime"  required ng-model="newMember.userName"/>
                            <input type="password" placeholder="Šifra" required ng-model="newMember.password"/>
                            <input type="password" placeholder="Potvrdi Šifru" ng-model="newMember.confirmPassword"/>
                            <input type="text" placeholder="Ime" ng-model="newMember.firstName"/>
                            <input type="text" placeholder="Prezime" ng-model="newMember.lastName"/>
                            <input type="text" placeholder="Email" ng-model="newMember.email"/>
                            <button class="rectangle-btn login-btn-halfway no-bg-btn" data-dismiss="modal">Izađi</button><button class="rectangle-btn login-btn-halfway modal-border" data-toggle="tab" href="#postani-clan-2" target="_self">Dalje</button>
                        </div>
                        <div id="postani-clan-2" class="tab-pane fade">
                            <div class="login-line"><p>Lični podaci</p></div>
                            <div class="login-line">
                                <label>Datum Rođenja: </label>
                                <input id="birthdate" type="text" uib-datepicker-popup="{{format}}" ng-model="newMember.dateOfBirth" ng-click="open1()"
                                       is-open="popup1.opened" datepicker-options="dateOptions" ng-required="true" alt-input-formats="altInputFormats"
                                       current-text="Današnji datum" clear-text="Obriši" close-text="Zatvori" />
                            </div>
                            <input type="text" placeholder="Grad" ng-model="newMember.address"/>
                            <input type="text" placeholder="Telefon" ng-model="newMember.phoneNumber"/>
                            <fieldset id="genderRadio">
                                <ul class="login-line">
                                    <li><label>Spol: </label></li>
                                    <li><label>Muški </label><input type="radio" value="musko" name="genderRadio" ng-model="newMember.gender"> </li>
                                    <li><label>Ženski </label><input type="radio" value="zensko" name="genderRadio" ng-model="newMember.gender"></li>
                                </ul>
                            </fieldset>
                            <fieldset id="employmentRadio">
                                <ul class="login-line">
                                    <li><label>Zaposlen/a: </label></li>
                                    <li><label>Da </label><input type="radio" value="Zaposlen" name="employmentRadio" ng-model="newMember.employment"></li>
                                    <li><label>Ne </label><input type="radio" value="Nezaposlen" name="employmentRadio" ng-model="newMember.employment"></li>
                                </ul>
                            </fieldset>
                            <button class="rectangle-btn login-btn-halfway no-bg-btn" data-toggle="tab" href="#postani-clan-1" target="_self">Nazad</button><button class="rectangle-btn login-btn-halfway modal-border"  data-dismiss="modal"  target="_self"ng-click="createMember()">Dodaj Člana</button>
                        </div>
                        <!--<div id="postani-clan-3" class="tab-pane fade">
                            <div class="login-line"><p>Odaberi sportove koje član voli</p></div>
                            <ul class="login-list">
                                <li><label>Ronjenje</label><input type="checkbox" /></li>
                                <li><label>Rafting</label><input type="checkbox" /></li>
                                <li><label>Biciklizam</label><input type="checkbox" /></li>
                                <li><label>Planinarenje</label><input type="checkbox" /></li>
                                <li><label>Skijanje</label><input type="checkbox" /></li>
                            </ul>
                            <button class="rectangle-btn login-btn-halfway no-bg-btn" data-toggle="tab" href="#postani-clan-2" target="_self">Nazad</button><button class="rectangle-btn login-btn-halfway modal-border" data-toggle="tab" href="#postani-clan-1" target="_self" data-dismiss="modal" ng-click="createMember()">Dodaj Člana</button>
                        </div>-->
                    </div>
                </div>


                <!--</div>-->
            
        </div>

    </div>
</div>


<!--EDIT MEMBER MODAL-->
<div id="editMemberModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-width-adjust">
        <!-- Modal content-->
        <div class="modal-content modal-width-adjust">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title modal-title-padding">Izmijeni podatke člana: {{editingMember.userName}}</h4>
            </div>
            <div class="add-member-form">
                <div class="login-line"><p>Lični Podaci</p></div>
                <input type="text" placeholder="Ime" ng-model="editingMember.firstName" />
                <input type="text" placeholder="Prezime" ng-model="editingMember.lastName" />
                <input type="text" placeholder="Email" ng-model="editingMember.email" />
                <input type="text" placeholder="Telefon" ng-model="editingMember.phoneNumber" />
                <input type="text" placeholder="Grad" ng-model="editingMember.address" />
                <button class="rectangle-btn login-btn-halfway no-bg-btn" data-dismiss="modal" ng-click="cancelEdit()">Izađi</button><button class="rectangle-btn login-btn-halfway modal-border" style="background: #3A7AD2;" data-dismiss="modal" ng-click="updateMember()">Potvrdi izmjene</button>
            </div>
        </div>
    </div>
</div>


<!--DELETE MEMBER MODAL-->
<div id="deleteMemberModal" class="modal fade" role="dialog">
    <div class="modal-dialog modal-width-adjust">
        <!-- Modal content-->
        <div class="modal-content modal-width-adjust">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title modal-title-padding">Brisanje člana: {{deletingMember.userName}}</h4>
            </div>
            <div class="delete-member-form">
                <div class="login-line"><p id="del-question">Da li ste sigurni da želite obrisati člana?</p></div>
                <div class="login-line"><p>Ime: <strong>{{deletingMember.firstName}}</strong></p></div>
                <div class="login-line"><p>Prezime: <strong>{{deletingMember.lastName}}</strong></p></div>
                <div class="login-line"><p>Email: <strong>{{deletingMember.email}}</strong></p></div>
                <div class="login-line"><p>Telefon: <strong>{{deletingMember.phoneNumber}}</strong></p></div>
                <div class="login-line"><p>Grad: <strong>{{deletingMember.address}}</strong></p></div>
                <button class="rectangle-btn login-btn-halfway no-bg-btn" data-dismiss="modal" ng-click="cancelDelete()">Izađi</button><button class="rectangle-btn login-btn-halfway modal-border" style="background: #FF8235;" data-dismiss="modal" ng-click="deleteMember()">Izbriši Člana</button>
            </div>
        </div>
    </div>
</div>