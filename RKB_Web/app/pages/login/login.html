<div class="login-screen">

    <div class="login-form">
        <ul class="nav nav-tabs login-tabs" id="lt">
            <li class="active"><a data-toggle="tab" href="#postani-clan" target="_self" ng-click="goToReg()">Postani Član</a></li>
            <li><a data-toggle="tab" href="#prijava" target="_self" ng-click="goToLogin()">Prijava</a></li>
        </ul>
        <div class="tab-content">
            <div id="prijava" class="tab-pane fade">
                <div class="av-form-line"><p>Unesi podatke za prijavu</p></div>
                <form name="loginForm" novalidate ng-submit="login(loginForm)">
                    <div class="av-form-group" focus-by-id="loginForm-username">
                        <label>Korisničko Ime: </label>
                        <div class="av-form-error" ng-show="loginForm.$submitted || loginForm.username.$touched">
                            <span ng-show="loginForm.username.$error.required">Obavezno polje</span>
                        </div>
                        <input type="text" name="username" class="av-form" ng-model="loginData.userName" required="" id="loginForm-username">
                    </div>
                    <div class="av-form-group av-form-last" focus-by-id="loginForm-password">
                        <label>Password: </label>
                        <div class="av-form-error" ng-show="loginForm.$submitted || loginForm.password.$touched">
                            <span ng-show="loginForm.password.$error.required">Obavezno polje</span>
                        </div>
                        <input type="password" name="password" class="av-form" ng-model="loginData.password" required="" id="loginForm-password">
                    </div>
                    <button type="submit" class="rectangle-btn login-btn-full" ng-class="{'active': formSubmitted}">Prijava<span class="text-center" ng-show="formSubmitted"><img src="img/spin.gif" /></span></button>
                </form>
                
                <!--<input type="text" placeholder="Korisnicko Ime" data-ng-model="loginData.userName" required />
                <input type="password" placeholder="Lozinka" data-ng-model="loginData.password" required />-->
                
                <div class="av-form-line"><p>ili</p></div>
                <a href="" class="connect facebook">
                    <div class="connect-icon">
                        <i class="fa fa-facebook"></i>
                    </div>
                    <div class="connect-context" data-ng-click="authExternalProvider('Facebook')">
                        <span>Prijava putem<strong> Facebook-a</strong></span>
                    </div>
                </a>
                <a href="" class="connect gplus">
                    <div class="connect-icon">
                        <i class="fa fa-google-plus"></i>
                    </div>
                    <div class="connect-context" data-ng-click="authExternalProvider('Google')">
                        <span>Prijava putem<strong> Google Plus-a</strong></span>
                    </div>
                </a>
            </div>

            <div id="postani-clan" class="tab-pane active in">
                <div class="av-form-line"><p>Odaberi način registracije</p></div>
                <!--Manual-->
                <button class="rectangle-btn login-btn-full" data-toggle="tab" href="#postani-clan-1" target="_self" ng-click="openForm(0)">Registriraj se</button>
                <div class="av-form-line"><p>ili</p></div>
                <!--Facebook-->
                <a href="" class="connect facebook">
                    <div class="connect-icon">
                        <i class="fa fa-facebook"></i>
                    </div>
                    <div class="connect-context" ng-click="authExternalProvider('Facebook')">
                        <span>Postani član putem<strong> Facebook-a</strong></span>
                    </div>
                </a>
                <!--Gplus-->
                <a href="" class="connect gplus">
                    <div class="connect-icon">
                        <i class="fa fa-google-plus"></i>
                    </div>
                    <div class="connect-context" ng-click="authExternalProvider('Google')">
                        <span>Postani član putem<strong> Google Plus-a</strong></span>
                    </div>
                </a>
            </div>
            <div id="postani-clan-1" class="tab-pane fade">

                <div class="av-form-line" ng-if="formTabs[0].active"><p>Korisnički podaci (sva polja su obavezna)</p></div>
                <form name="reg1" novalidate ng-if="formTabs[0].active">
                    <div class="av-form-group" focus-by-id="regForm-userName">
                        <label>Korisničko Ime: </label>
                        <div class="av-form-error" ng-show="reg1.$submitted || reg1.userName.$touched">
                            <span ng-show="reg1.userName.$error.required">Obavezno polje</span>
                        </div>
                        <input type="text" name="userName" class="av-form" ng-model="registrationData.userName" required="" id="regForm-userName">
                    </div>
                    <div class="av-form-group" focus-by-id="regForm-password">
                        <label>Šifra: </label>
                        <div class="av-form-error" ng-show="reg1.$submitted || reg1.password.$touched">
                            <span ng-show="reg1.password.$error.required">Obavezno polje</span>
                        </div>
                        <input type="password" name="password" class="av-form" ng-model="registrationData.password" required="" id="regForm-password">
                    </div>
                    <div class="av-form-group" focus-by-id="regForm-confirmPassword">
                        <label>Ponovi šifru: </label>
                        <div class="av-form-error" ng-show="reg1.$submitted || reg1.confirmPassword.$touched">
                            <span ng-show="reg1.confirmPassword.$error.required">Obavezno polje</span>
                            <span ng-show="passwordError">Šifre nisu jednake</span>
                        </div>
                        <input type="password" name="confirmPassword" class="av-form" ng-model="registrationData.confirmPassword" required="" id="regForm-confirmPassword">
                    </div>
                    <div class="av-form-group" focus-by-id="regForm-firstName">
                        <label>Ime: </label>
                        <div class="av-form-error" ng-show="reg1.$submitted || reg1.firstName.$touched">
                            <span ng-show="reg1.firstName.$error.required">Obavezno polje</span>
                        </div>
                        <input type="text" name="firstName" class="av-form" ng-model="registrationData.firstName" required="" id="regForm-firstName">
                    </div>
                    <div class="av-form-group" focus-by-id="regForm-lastName">
                        <label>Prezime: </label>
                        <div class="av-form-error" ng-show="reg1.$submitted || reg1.lastName.$touched">
                            <span ng-show="reg1.lastName.$error.required">Obavezno polje</span>
                        </div>
                        <input type="text" name="lastName" class="av-form" ng-model="registrationData.lastName" required="" id="regForm-lastName">
                    </div>
                    <div class="av-form-group av-form-last" focus-by-id="regForm-email">
                        <label>Email: </label>
                        <div class="av-form-error" ng-show="reg1.$submitted || reg1.email.$touched">
                            <span ng-show="reg1.email.$error.required">Obavezno polje</span>
                            <span ng-show="reg1.email.$error.email">Nepravilan email</span>
                        </div>
                        <input type="email" name="email" class="av-form" ng-model="registrationData.email" required="" id="regForm-email">
                    </div>
                    <button class="rectangle-btn login-btn-halfway no-bg-btn" data-toggle="tab" target="_self" ng-click="resetRegistration()">Nazad</button><button class="rectangle-btn login-btn-halfway" ng-click="switchTab(1, reg1)">Dalje</button>
                </form>
                
                

                <div class="av-form-line" ng-if="formTabs[1].active"><p>Lični podaci (sva polja su obavezna)</p></div>
                <form name="reg2"  ng-if="formTabs[1].active" novalidate>
                    <div class="av-form-group">
                        <label>Datum Rođenja: </label>
                        <div class="av-form-error" ng-show="dateError">
                            <span ng-show="dateError">Nepravilan datum</span>
                        </div>
                        <div class="av-form">
                            <div class="row">
                                <div class="col-md-4 col-xs-4">
                                    <select type="text" class="form-control" ng-model="dateOfBirth.day" style="padding: 6px">
                                        <option ng-repeat="day in dateOfBirth.days" ng-value="day">{{day}}</option>
                                    </select>
                                </div>
                                <div class="col-md-4 col-xs-4">
                                    <select type="text" class="form-control" ng-model="dateOfBirth.month" style="padding: 6px">
                                        <option ng-repeat="month in dateOfBirth.months" ng-value="month">{{month}}</option>
                                    </select>
                                </div>
                                <div class="col-md-4 col-xs-4">
                                    <select type="text" class="form-control" ng-model="dateOfBirth.year" style="padding: 6px 0">
                                        <option ng-repeat="year in dateOfBirth.years" ng-value="year">{{year}}</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="av-form-group" focus-by-id="regForm-city">
                        <label>Grad: </label>
                        <div class="av-form-error" ng-show="reg2.$submitted || reg2.city.$touched">
                            <span ng-show="reg2.city.$error.required">Obavezno polje</span>
                        </div>
                        <input type="text" name="city" class="av-form" ng-model="registrationData.city" required="" id="regForm-city">
                    </div>
                    <div class="av-form-group" focus-by-id="regForm-address">
                        <label>Adresa: </label>
                        <div class="av-form-error" ng-show="reg2.$submitted || reg2.address.$touched">
                            <span ng-show="reg2.address.$error.required">Obavezno polje</span>
                        </div>
                        <input type="text" name="address" class="av-form" ng-model="registrationData.address" required="" id="regForm-address">
                    </div>
                    <div class="av-form-group">
                        <label focus-by-id="regForm-phoneNumber">Telefon: </label>
                        <div class="av-form-error" ng-show="reg2.$submitted || reg2.phoneNumber.$touched" focus-by-id="regForm-phoneNumber">
                            <span ng-show="reg2.phoneNumber.$error.required">Obavezno polje</span>
                            <span ng-show="reg2.phoneNumber.$error.pattern">Broj telefona može imati samo cifre</span>
                        </div>
                        <div class="av-form">
                            <div class="row">
                                <div class="col-md-4 col-xs-5">
                                    <select class="form-control" ng-model="selectedCountry" style="padding: 6px 0">
                                        <option ng-repeat="country in countries" ng-value="country">{{country.name}} {{country.number}}</option>
                                    </select>
                                </div>
                                <div class="col-md-8 col-xs-7"><input type="text" name="phoneNumber" class="av-form" style="border-bottom: 0px; padding: 5px;" ng-model="registrationData.phoneNumber" required="" ng-pattern="phoneRegex" id="regForm-phoneNumber"></div>
                            </div>
                        </div>
                    </div>
                    <div class="av-form-group" id="genderRadio">
                        <label>Spol: </label>
                        <div class="av-form-error" ng-show="reg2.$submitted">
                            <span ng-show="reg2.genderRadio.$error.required">Odaberite spol</span>
                        </div>
                        <div class="av-form">
                            <div class="row">
                                <div class="col-sm-4 col-xs-6"><label class="radio-inline"><input type="radio" value="musko" ng-model="registrationData.gender" name="genderRadio" required>Muško</label></div>
                                <div class="col-sm-4 col-xs-6"><label class="radio-inline"><input type="radio" value="zensko" ng-model="registrationData.gender" name="genderRadio" required>Žensko</label></div>
                            </div>
                        </div>
                    </div>
                    <div class="av-form-group" id="employmentRadio">
                        <label>Radni status: </label>
                        <div class="av-form-error" ng-show="reg2.$submitted">
                            <span ng-show="reg2.employmentRadio.$error.required">Odaberite radni status</span>
                        </div>
                        <div class="av-form">
                            <div class="row">
                                <div class="col-sm-4 col-xs-6"><label class="radio-inline"><input type="radio" value="zaposlen" ng-model="registrationData.employment" name="employmentRadio" required>Zaposlen/a</label></div>
                                <div class="col-sm-4 col-xs-6"><label class="radio-inline"><input type="radio" value="nezaposlen" ng-model="registrationData.employment" name="employmentRadio" required>Nezaposlen/a</label></div>
                                <div class="col-sm-4 col-xs-6"><label class="radio-inline"><input type="radio" value="student" ng-model="registrationData.employment" name="employmentRadio" required>Student</label></div>
                            </div>
                        </div>
                    </div>
                    <div class="av-form-group av-form-last" id="healthStatusRadio">
                        <label>Nivo fizičke spreme: </label>
                        <div class="av-form-error" ng-show="reg2.$submitted">
                            <span ng-show="reg2.healthStatusRadio.$error.required">Odaberite nivo fizičke spreme</span>
                        </div>
                        <div class="av-form">
                            <div class="row">
                                <div class="col-sm-4 col-xs-6"><label class="radio-inline"><input type="radio" value="nizak" ng-model="registrationData.healthStatus" name="healthStatusRadio" required>Nizak</label></div>
                                <div class="col-sm-4 col-xs-6"><label class="radio-inline"><input type="radio" value="srednji" ng-model="registrationData.healthStatus" name="healthStatusRadio" required>Srednji</label></div>
                                <div class="col-sm-4 col-xs-6"><label class="radio-inline"><input type="radio" value="visok" ng-model="registrationData.healthStatus" name="healthStatusRadio" required>Visok</label></div>
                            </div>
                        </div>
                    </div>
                    <button class="rectangle-btn login-btn-halfway no-bg-btn" ng-click="openForm(0)">Nazad</button><button type="submit" class="rectangle-btn login-btn-halfway" ng-click="switchTab(2, reg2)">Dalje</button>
                </form>

                <div  ng-if="formTabs[2].active">
                    <div class="av-form-line"><p>Odaberi svoje karakteristike (najmanje po jednu)</p></div>
                    <div class="text-center" ng-show="isloading()">
                        <img src="img/spin.gif" />
                    </div>
                    <div class="av-form-error text-center" ng-show="categoryError">
                        <span ng-show="categoryError">Odaberite bar po jednu iz svake kategorije</span>
                    </div>
                    <div class="custom-accordion" id="accordion" ng-hide="isloading()">
                        <div class="panel panel-default" ng-repeat="category in interestCategories">
                            <div class="panel-heading" data-toggle="collapse" data-parent="#accordion" ng-href="{{'#collapse' + $index}}" href="" target="_self">
                                <h4 class="panel-title">
                                    <span>
                                        {{category.categoryName}}
                                    </span>
                                </h4>
                            </div>
                            <div id="{{'collapse' + $index}}" class="panel-collapse collapse" ng-class='{in:$first}'>
                                <div class="panel-body">
                                    <ul class="login-list">
                                        <li ng-repeat="subCategory in subCategories" ng-click="toggleSelection(subCategory)" ng-show="subCategory.categoryId===category.id" style="cursor:pointer;">
                                            <div class="av-form av-form-last av-form-checkboxes">
                                                <div class="row">
                                                    <div class="col-xs-8"><label>{{subCategory.name}}</label></div>
                                                    <div class="col-xs-offset-2 col-xs-1"><input type="checkbox" ng-checked="selected.indexOf(subCategory) > -1" /></div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="rectangle-btn login-btn-halfway no-bg-btn" ng-click="openForm(1)">Nazad</button><button type="submit" class="rectangle-btn login-btn-halfway" target="_self" ng-click="signUp()">Postani Član</button>
                </div>
            </div>
            <!--Visak html ide ovdje-->
        </div>
    </div>
</div>